create schema gas_station1;
use gas_station1;

create table gas_station
(station_number int not null primary key,
phone_number int,
city varchar(45),
street varchar(45),
house_number varchar(45))
engine = innodb;

insert INTO gas_station 
VALUES(007,0524472312,'Tel-Aviv', 'Ben Gurion','17');

create table supplier
(id int not null primary key,
first_name varchar(45),
last_name varchar(45),
phone_number int)
engine = innodb;

insert into supplier
values
(555, "Jason", "Derulo", 0523489054),
(777, "Viki", "Bieber", 0520497386),
(999, "Benny", "Rozenblom", 0534860596), 
(111, "Rachel", "Green", 0506859134);

create table reservations
(reservation_id int primary key,
reservation_date date)
engine = innodb;

insert into reservations
values
(668754, "2021-05-01"),
(76437, "2021-05-01"),
(72469, "2021-05-01"),
(547433, "2021-05-12"),
(085355, "2021-05-12"),
(256547, "2021-05-12");

create table gas_supplier
(supplier_id int not null,
reservation_id int,
supply_date date,
amount_per_supply float,
gas_type varchar(45),
primary key (supplier_id, supply_date),
foreign key (supplier_id) references supplier(id)
						on update cascade
                        on delete no action,
 foreign key (reservation_id) references reservations(reservation_id)
						on update cascade
                        on delete no action)                       
engine = innodb;


insert into gas_supplier
values
(555, 668754, "2021-05-07", 30000, "Octan 95"),
(777, 76437, "2021-05-07",10000, "Octan 96"),
(999, 72469, "2021-05-07", 1000, "Octan 95"),
(555, 547433, "2021-05-20", 30000, "Octan 95"),
(777, 085355, "2021-05-20",10000, "Octan 96"),
(999, 256547, "2021-05-20", 1000, "Octan 95");

create table power_supplier
(supplier_id int not null primary key,
kw_per_month float,
foreign key (supplier_id) references supplier(id)
						on update cascade
                        on delete no action)
engine = innodb;

insert into power_supplier
values
(111, 12000);

create table gas_station_supplier
(supplier_id int not null,
station_number int not null,
primary key(supplier_id, station_number),
foreign key (supplier_id) references supplier(id)
						on update cascade
                        on delete no action,
foreign key (station_number) references gas_station(station_number)
						on update cascade
                        on delete no action)
engine = innodb;

create table employee
(id int not null primary key,
first_name varchar(45),
last_name varchar(45),
phone_number int,
city varchar(45),
street varchar(45),
house_number varchar(45),
DOB date,
station_number int not null,
foreign key (station_number) references gas_station(station_number)
						on update cascade
                        on delete no action)
engine = innodb;

insert INTO employee
VALUES
(748590345, "Oren", "May", 0534857612, "Petah-Tikva", "Zlil", 8, "1995-06-10", 007),
(293847510, "Danny", "Senderson", 0532958109, "Tel-Aviv", "Kehilat-Padova", 4, "2000-06-01", 007),
(302985174, "Ran", "Shanny", 0509218573, "Herzelia", "Haneviim", 42, "2001-09-08", 007),
(209384716, "Shlomi", "Adam", 0549218594, "Tel-Aviv", "Bnei-Efraim", 67, "1999-12-12", 007),
(902854832, "Timor", "Dean", 0539481574,  "Ramat-Gan", "Haroee", 1, "1998-01-24", 007),
(303012134,"David", "Cohen", 0524786658, "Tel-Aviv", "Dizengoff", 10, "1997-08-07",007),
(205012133,"Hadar", "Levy", 0522386677,"Ramat-Gan", "Blum", 6,"1988-04-02",007),
(4568211,"Anat", "Kaminsky", 052333124, "Jersuaslem", "Geva", 3, "1994-03-18",007),
(7897456,"Alma", "Dinar", 0524786658,"Tel-Aviv", "Afek", 7, "2000-11-11",007),
(52634412,"Shir", "Atia", 054777653,"Yehud", "Zamir", 12, "1996-09-07",007),
(987658704, "Raz", "Poly", 0546758921, "Natanya", "Sirkin", 7, "1998-02-15", 007),
(079835476, "Jacob", "Cohen", 0534658723, "Kfar-Saba", "Galili", 8, "1992-03-22", 007),
(038476297, "Ron", "Wizly", 0528749824, "Savyon", "Hatomer", 24, "1991-07-12", 007),
(587639827, "Harry", "Potter", 0534986049, "Narniya", "Nesher", 12, "1999-03-30", 007),
(208947586, "Doron", "Daniel", 0534928760, "Modiin", "Ariel", 29, "2001-09-01", 007);

create table positions
(id int not null primary key,
isSelfService boolean,			/*0 - full service, 1- self service*/
pumps_number int,
station_number int not null,
foreign key (station_number) references gas_station(station_number)
						on update cascade
                        on delete no action)
engine = innodb;

insert into positions
values
(1,true, 1, 007),	/*octan 95*/		
(2,true, 1, 007),	/*octan 95*/	
(3,true, 1, 007),	/*octan 96*/
(4,false, 1, 007),	/*octan 95*/
(5,false, 1, 007),	/*octan 95*/
(6,false, 1, 007),	/*octan 95*/
(7,false, 1, 007),	/*octan 96*/
(8,false, 1, 007),	/*solar*/
(9,false, 1, 007),		/*charge station*/
(10,true, 1, 007);		/*charge station*/

create table refueling_station
(id int not null primary key,
gas_type varchar(45),
foreign key (id) references positions(id)
						on update cascade
                        on delete no action)
engine = innodb;

insert into refueling_station
values
(1, "*octan 95"),		
(2, "octan 95"),
(3, "octan 96"),
(4, "octan 95"),
(5, "octan 95"),
(6, "octan 95"),
(7, "octan 96"),
(8, "octan 96");


create table charging_station						
(id int not null,
supplier_id int not null, 
primary key(id, supplier_id),
foreign key (supplier_id) references power_supplier(supplier_id)
						on update cascade
                        on delete no action,
foreign key (id) references positions(id)
						on update cascade
                        on delete no action)
engine = innodb;

insert into charging_station
values
(9, 111),		
(10, 111);		

create table manage
(m_date date,
employee_id int not null,
position_id int not null,
start_time time(6),
end_time time(6),
primary key (m_date, employee_id, position_id),
foreign key (employee_id) references employee(id)
						on update cascade
                        on delete no action,
foreign key (position_id) references positions(id)
						on update cascade
                        on delete no action)
engine = innodb;


insert into manage					
values
("2021-05-27", 303012134, 4, "07:00:00", "15:00:00"),
("2021-05-27", 205012133, 5, "07:00:00", "15:00:00"),
("2021-05-27", 4568211, 6, "07:00:00", "15:00:00"),
("2021-05-27", 7897456, 7, "07:00:00", "15:00:00"),
("2021-05-27", 52634412, 8, "07:00:00", "15:00:00"),
("2021-05-27", 987658704, 9, "07:00:00", "15:00:00"),
("2021-05-27", 079835476, 4, "15:00:00", "23:00:00"),
("2021-05-27", 038476297, 5, "15:00:00", "23:00:00"),
("2021-05-27", 587639827, 6, "15:00:00", "23:00:00"),
("2021-05-27", 208947586, 7, "15:00:00", "23:00:00"),
("2021-05-27", 748590345, 8, "15:00:00", "23:00:00"),
("2021-05-27", 293847510, 9, "15:00:00", "23:00:00"),

("2021-05-26", 748590345, 4, "07:00:00", "15:00:00"),
("2021-05-26", 293847510, 5, "07:00:00", "15:00:00"),
("2021-05-26", 302985174, 6, "07:00:00", "15:00:00"),
("2021-05-26", 209384716, 7, "07:00:00", "15:00:00"),
("2021-05-26", 902854832, 8, "07:00:00", "15:00:00"),
("2021-05-26", 303012134, 9, "07:00:00", "15:00:00"),
("2021-05-26", 205012133, 4, "15:00:00", "23:00:00"),
("2021-05-26",4568211, 5, "15:00:00", "23:00:00"),
("2021-05-26", 7897456, 6, "15:00:00", "23:00:00"),
("2021-05-26", 52634412, 7, "15:00:00", "23:00:00"),
("2021-05-26", 987658704, 8, "15:00:00", "23:00:00"),
("2021-05-26", 079835476, 9, "15:00:00", "23:00:00"),

("2021-05-25", 038476297, 4, "07:00:00", "15:00:00"),
("2021-05-25", 587639827, 5, "07:00:00", "15:00:00"),
("2021-05-25", 208947586, 6, "07:00:00", "15:00:00"),
("2021-05-25", 748590345, 7, "07:00:00", "15:00:00"),
("2021-05-25", 293847510, 8, "07:00:00", "15:00:00"),
("2021-05-25", 302985174, 9, "07:00:00", "15:00:00"),
("2021-05-25", 209384716, 4, "15:00:00", "23:00:00"),
("2021-05-25", 902854832, 5, "15:00:00", "23:00:00"),
("2021-05-25", 303012134, 6, "15:00:00", "23:00:00"),
("2021-05-25", 205012133, 7, "15:00:00", "23:00:00"),
("2021-05-25", 4568211, 8, "15:00:00", "23:00:00"),
("2021-05-25", 7897456, 9, "15:00:00", "23:00:00"),

("2021-05-24", 52634412, 4, "07:00:00", "15:00:00"),
("2021-05-24", 987658704, 5, "07:00:00", "15:00:00"),
("2021-05-24", 079835476, 6, "07:00:00", "15:00:00"),
("2021-05-24", 038476297, 7, "07:00:00", "15:00:00"),
("2021-05-24", 587639827, 8, "07:00:00", "15:00:00"),
("2021-05-24", 208947586, 9, "07:00:00", "15:00:00"),
("2021-05-24", 748590345, 4, "15:00:00", "23:00:00"),
("2021-05-24", 293847510, 5, "15:00:00", "23:00:00"),
("2021-05-24", 302985174, 6, "15:00:00", "23:00:00"),
("2021-05-24", 209384716, 7, "15:00:00", "23:00:00"),
("2021-05-24", 902854832, 8, "15:00:00", "23:00:00"),
("2021-05-24", 303012134, 9, "15:00:00", "23:00:00"),

("2021-05-23", 205012133, 4, "07:00:00", "15:00:00"),
("2021-05-23", 4568211, 5, "07:00:00", "15:00:00"),
("2021-05-23", 7897456, 6, "07:00:00", "15:00:00"),
("2021-05-23", 52634412, 7, "07:00:00", "15:00:00"),
("2021-05-23", 987658704, 8, "07:00:00", "15:00:00"),
("2021-05-23", 079835476, 9, "07:00:00", "15:00:00"),
("2021-05-23", 038476297, 4, "15:00:00", "23:00:00"),
("2021-05-23", 587639827, 5, "15:00:00", "23:00:00"),
("2021-05-23", 208947586, 6, "15:00:00", "23:00:00"),
("2021-05-23", 748590345, 7, "15:00:00", "23:00:00"),
("2021-05-23", 293847510, 8, "15:00:00", "23:00:00"),
("2021-05-23", 302985174, 9, "15:00:00", "23:00:00"),

("2021-05-22", 209384716, 4, "07:00:00", "15:00:00"),
("2021-05-22", 902854832, 5, "07:00:00", "15:00:00"),
("2021-05-22", 303012134, 6, "07:00:00", "15:00:00"),
("2021-05-22", 205012133, 7, "07:00:00", "15:00:00"),
("2021-05-22", 4568211, 8, "07:00:00", "15:00:00"),
("2021-05-22", 7897456, 9, "07:00:00", "15:00:00"),
("2021-05-22", 52634412, 4, "15:00:00", "23:00:00"),
("2021-05-22", 987658704, 5, "15:00:00", "23:00:00"),
("2021-05-22", 079835476, 6, "15:00:00", "23:00:00"),
("2021-05-22", 038476297, 7, "15:00:00", "23:00:00"),
("2021-05-22", 587639827, 8, "15:00:00", "23:00:00"),
("2021-05-22", 208947586, 9, "15:00:00", "23:00:00"),

("2021-05-21", 748590345, 4, "07:00:00", "15:00:00"),
("2021-05-21", 293847510, 5, "07:00:00", "15:00:00"),
("2021-05-21", 302985174, 6, "07:00:00", "15:00:00"),
("2021-05-21", 209384716, 7, "07:00:00", "15:00:00"),
("2021-05-21", 902854832, 8, "07:00:00", "15:00:00"),
("2021-05-21", 303012134, 9, "07:00:00", "15:00:00"),
("2021-05-21", 205012133, 4, "15:00:00", "23:00:00"),
("2021-05-21", 4568211, 5, "15:00:00", "23:00:00"),
("2021-05-21", 7897456, 6, "15:00:00", "23:00:00"),
("2021-05-21",52634412, 7, "15:00:00", "23:00:00"),
("2021-05-21", 987658704, 8, "15:00:00", "23:00:00"),
("2021-05-21", 079835476, 9, "15:00:00", "23:00:00"),

("2021-05-20", 038476297, 4, "07:00:00", "15:00:00"),
("2021-05-20", 587639827, 5, "07:00:00", "15:00:00"),
("2021-05-20", 208947586, 6, "07:00:00", "15:00:00"),
("2021-05-20", 748590345, 7, "07:00:00", "15:00:00"),
("2021-05-20", 293847510, 8, "07:00:00", "15:00:00"),
("2021-05-20", 302985174, 9, "07:00:00", "15:00:00"),
("2021-05-20", 209384716, 4, "15:00:00", "23:00:00"),
("2021-05-20", 902854832, 5, "15:00:00", "23:00:00"),
("2021-05-20", 303012134, 6, "15:00:00", "23:00:00"),
("2021-05-20", 205012133, 7, "15:00:00", "23:00:00"),
("2021-05-20", 4568211, 8, "15:00:00", "23:00:00"),
("2021-05-20", 7897456, 9, "15:00:00", "23:00:00"),

("2021-05-19", 52634412, 4, "07:00:00", "15:00:00"),
("2021-05-19", 987658704, 5, "07:00:00", "15:00:00"),
("2021-05-19", 079835476, 6, "07:00:00", "15:00:00"),
("2021-05-19", 038476297, 7, "07:00:00", "15:00:00"),
("2021-05-19", 587639827, 8, "07:00:00", "15:00:00"),
("2021-05-19", 208947586, 9, "07:00:00", "15:00:00"),
("2021-05-19", 748590345, 4, "15:00:00", "23:00:00"),
("2021-05-19", 293847510, 5, "15:00:00", "23:00:00"),
("2021-05-19", 302985174, 6, "15:00:00", "23:00:00"),
("2021-05-19", 209384716, 7, "15:00:00", "23:00:00"),
("2021-05-19", 902854832, 8, "15:00:00", "23:00:00"),
("2021-05-19", 303012134, 9, "15:00:00", "23:00:00"),

("2021-05-18", 52634412, 4, "07:00:00", "15:00:00"),
("2021-05-18", 987658704, 5, "07:00:00", "15:00:00"),
("2021-05-18", 079835476, 6, "07:00:00", "15:00:00"),
("2021-05-18", 038476297, 7, "07:00:00", "15:00:00"),
("2021-05-18", 587639827, 8, "07:00:00", "15:00:00"),
("2021-05-18", 208947586, 9, "07:00:00", "15:00:00"),
("2021-05-18", 748590345, 4, "15:00:00", "23:00:00"),
("2021-05-18", 293847510, 5, "15:00:00", "23:00:00"),
("2021-05-18", 302985174, 6, "15:00:00", "23:00:00"),
("2021-05-18", 209384716, 7, "15:00:00", "23:00:00"),
("2021-05-18", 902854832, 8, "15:00:00", "23:00:00"),
("2021-05-18", 303012134, 9, "15:00:00", "23:00:00"),

("2021-05-17", 52634412, 4, "07:00:00", "15:00:00"),
("2021-05-17", 987658704, 5, "07:00:00", "15:00:00"),
("2021-05-17", 079835476, 6, "07:00:00", "15:00:00"),
("2021-05-17", 038476297, 7, "07:00:00", "15:00:00"),
("2021-05-17", 587639827, 8, "07:00:00", "15:00:00"),
("2021-05-17", 208947586, 9, "07:00:00", "15:00:00"),
("2021-05-17", 748590345, 4, "15:00:00", "23:00:00"),
("2021-05-17", 293847510, 5, "15:00:00", "23:00:00"),
("2021-05-17", 302985174, 6, "15:00:00", "23:00:00"),
("2021-05-17", 209384716, 7, "15:00:00", "23:00:00"),
("2021-05-17", 902854832, 8, "15:00:00", "23:00:00"),
("2021-05-17", 303012134, 9, "15:00:00", "23:00:00"),

("2021-05-16", 205012133, 4, "07:00:00", "15:00:00"),
("2021-05-16", 4568211, 5, "07:00:00", "15:00:00"),
("2021-05-16", 7897456, 6, "07:00:00", "15:00:00"),
("2021-05-16", 52634412, 7, "07:00:00", "15:00:00"),
("2021-05-16", 987658704, 8, "07:00:00", "15:00:00"),
("2021-05-16", 079835476, 9, "07:00:00", "15:00:00"),
("2021-05-16", 038476297, 4, "15:00:00", "23:00:00"),
("2021-05-16", 587639827, 5, "15:00:00", "23:00:00"),
("2021-05-16", 208947586, 6, "15:00:00", "23:00:00"),
("2021-05-16", 748590345, 7, "15:00:00", "23:00:00"),
("2021-05-16", 293847510, 8, "15:00:00", "23:00:00"),
("2021-05-16", 302985174, 9, "15:00:00", "23:00:00"),

("2021-05-15", 205012133, 4, "07:00:00", "15:00:00"),
("2021-05-15", 4568211, 5, "07:00:00", "15:00:00"),
("2021-05-15", 7897456, 6, "07:00:00", "15:00:00"),
("2021-05-15", 52634412, 7, "07:00:00", "15:00:00"),
("2021-05-15", 987658704, 8, "07:00:00", "15:00:00"),
("2021-05-15", 079835476, 9, "07:00:00", "15:00:00"),
("2021-05-15", 038476297, 4, "15:00:00", "23:00:00"),
("2021-05-15", 587639827, 5, "15:00:00", "23:00:00"),
("2021-05-15", 208947586, 6, "15:00:00", "23:00:00"),
("2021-05-15", 748590345, 7, "15:00:00", "23:00:00"),
("2021-05-15", 293847510, 8, "15:00:00", "23:00:00"),
("2021-05-15", 302985174, 9, "15:00:00", "23:00:00"),

("2021-05-14", 209384716, 4, "07:00:00", "15:00:00"),
("2021-05-14", 902854832, 5, "07:00:00", "15:00:00"),
("2021-05-14", 303012134, 6, "07:00:00", "15:00:00"),
("2021-05-14", 205012133, 7, "07:00:00", "15:00:00"),
("2021-05-14", 4568211, 8, "07:00:00", "15:00:00"),
("2021-05-14", 7897456, 9, "07:00:00", "15:00:00"),
("2021-05-14", 52634412, 4, "15:00:00", "23:00:00"),
("2021-05-14", 987658704, 5, "15:00:00", "23:00:00"),
("2021-05-14", 079835476, 6, "15:00:00", "23:00:00"),
("2021-05-14", 038476297, 7, "15:00:00", "23:00:00"),
("2021-05-14", 587639827, 8, "15:00:00", "23:00:00"),
("2021-05-14", 208947586, 9, "15:00:00", "23:00:00"),

("2021-05-13", 209384716, 4, "07:00:00", "15:00:00"),
("2021-05-13", 902854832, 5, "07:00:00", "15:00:00"),
("2021-05-13", 303012134, 6, "07:00:00", "15:00:00"),
("2021-05-13", 205012133, 7, "07:00:00", "15:00:00"),
("2021-05-13", 4568211, 8, "07:00:00", "15:00:00"),
("2021-05-13", 7897456, 9, "07:00:00", "15:00:00"),
("2021-05-13", 52634412, 4, "15:00:00", "23:00:00"),
("2021-05-13", 987658704, 5, "15:00:00", "23:00:00"),
("2021-05-13", 079835476, 6, "15:00:00", "23:00:00"),
("2021-05-13", 038476297, 7, "15:00:00", "23:00:00"),
("2021-05-13", 587639827, 8, "15:00:00", "23:00:00"),
("2021-05-13", 208947586, 9, "15:00:00", "23:00:00"),

("2021-05-12", 209384716, 4, "07:00:00", "15:00:00"),
("2021-05-12", 902854832, 5, "07:00:00", "15:00:00"),
("2021-05-12", 303012134, 6, "07:00:00", "15:00:00"),
("2021-05-12", 205012133, 7, "07:00:00", "15:00:00"),
("2021-05-12", 4568211, 8, "07:00:00", "15:00:00"),
("2021-05-12", 7897456, 9, "07:00:00", "15:00:00"),
("2021-05-12", 52634412, 4, "15:00:00", "23:00:00"),
("2021-05-12", 987658704, 5, "15:00:00", "23:00:00"),
("2021-05-12", 079835476, 6, "15:00:00", "23:00:00"),
("2021-05-12", 038476297, 7, "15:00:00", "23:00:00"),
("2021-05-12", 587639827, 8, "15:00:00", "23:00:00"),
("2021-05-12", 208947586, 9, "15:00:00", "23:00:00"),

("2021-05-11", 748590345, 4, "07:00:00", "15:00:00"),
("2021-05-11", 293847510, 5, "07:00:00", "15:00:00"),
("2021-05-11", 302985174, 6, "07:00:00", "15:00:00"),
("2021-05-11", 209384716, 7, "07:00:00", "15:00:00"),
("2021-05-11", 902854832, 8, "07:00:00", "15:00:00"),
("2021-05-11", 303012134, 9, "07:00:00", "15:00:00"),
("2021-05-11", 205012133, 4, "15:00:00", "23:00:00"),
("2021-05-11", 4568211, 5, "15:00:00", "23:00:00"),
("2021-05-11", 7897456, 6, "15:00:00", "23:00:00"),
("2021-05-11", 987658704, 7, "15:00:00", "23:00:00"),
("2021-05-11", 079835476, 8, "15:00:00", "23:00:00"),
("2021-05-11", 038476297, 9, "15:00:00", "23:00:00"),

("2021-05-10", 748590345, 4, "07:00:00", "15:00:00"),
("2021-05-10", 293847510, 5, "07:00:00", "15:00:00"),
("2021-05-10", 302985174, 6, "07:00:00", "15:00:00"),
("2021-05-10", 209384716, 7, "07:00:00", "15:00:00"),
("2021-05-10", 902854832, 8, "07:00:00", "15:00:00"),
("2021-05-10", 303012134, 9, "07:00:00", "15:00:00"),
("2021-05-10", 205012133, 4, "15:00:00", "23:00:00"),
("2021-05-10", 4568211, 5, "15:00:00", "23:00:00"),
("2021-05-10", 7897456, 6, "15:00:00", "23:00:00"),
("2021-05-10", 987658704, 7, "15:00:00", "23:00:00"),
("2021-05-10", 079835476, 8, "15:00:00", "23:00:00"),
("2021-05-10", 038476297, 9, "15:00:00", "23:00:00"),

("2021-05-09", 52634412, 4, "07:00:00", "15:00:00"),
("2021-05-09", 587639827, 5, "07:00:00", "15:00:00"),
("2021-05-09", 208947586, 6, "07:00:00", "15:00:00"),
("2021-05-09", 748590345, 7, "07:00:00", "15:00:00"),
("2021-05-09", 293847510, 8, "07:00:00", "15:00:00"),
("2021-05-09", 302985174, 9, "07:00:00", "15:00:00"),
("2021-05-09", 209384716, 4, "15:00:00", "23:00:00"),
("2021-05-09", 902854832, 5, "15:00:00", "23:00:00"),
("2021-05-09", 303012134, 6, "15:00:00", "23:00:00"),
("2021-05-09", 205012133, 7, "15:00:00", "23:00:00"),
("2021-05-09", 4568211, 8, "15:00:00", "23:00:00"),
("2021-05-09", 7897456, 9, "15:00:00", "23:00:00"),

("2021-05-08", 52634412, 4, "07:00:00", "15:00:00"),
("2021-05-08", 587639827, 5, "07:00:00", "15:00:00"),
("2021-05-08", 208947586, 6, "07:00:00", "15:00:00"),
("2021-05-08", 748590345, 7, "07:00:00", "15:00:00"),
("2021-05-08", 293847510, 8, "07:00:00", "15:00:00"),
("2021-05-08", 302985174, 9, "07:00:00", "15:00:00"),
("2021-05-08", 209384716, 4, "15:00:00", "23:00:00"),
("2021-05-08", 902854832, 5, "15:00:00", "23:00:00"),
("2021-05-08", 303012134, 6, "15:00:00", "23:00:00"),
("2021-05-08", 205012133, 7, "15:00:00", "23:00:00"),
("2021-05-08", 4568211, 8, "15:00:00", "23:00:00"),
("2021-05-08", 7897456, 9, "15:00:00", "23:00:00"),

("2021-05-07", 52634412, 4, "07:00:00", "15:00:00"),
("2021-05-07", 587639827, 5, "07:00:00", "15:00:00"),
("2021-05-07", 208947586, 6, "07:00:00", "15:00:00"),
("2021-05-07", 748590345, 7, "07:00:00", "15:00:00"),
("2021-05-07", 293847510, 8, "07:00:00", "15:00:00"),
("2021-05-07", 302985174, 9, "07:00:00", "15:00:00"),
("2021-05-07", 209384716, 4, "15:00:00", "23:00:00"),
("2021-05-07", 902854832, 5, "15:00:00", "23:00:00"),
("2021-05-07", 303012134, 6, "15:00:00", "23:00:00"),
("2021-05-07", 205012133, 7, "15:00:00", "23:00:00"),
("2021-05-07", 4568211, 8, "15:00:00", "23:00:00"),
("2021-05-07", 7897456, 9, "15:00:00", "23:00:00");


create table customer
(id int not null primary key,
first_name varchar(45),
last_name varchar(45))
engine = innodb;

insert into customer
values
(908734561,"Tom", "Caspi"), 
(234518475,"Fredi", "Mercury"),
(098765948,"Adel", "Shkuri"),
(385674906,"Shimon", "Buskila"),
(768504986,"Careem", "Abdul"), 
(230596834,"Ronni", "Kogen"),
(768592034,"Charles", "Dickens"),
(768593053,"Edi", "Jhones"),
(209341254,"Dani", "Riskin"),
(209874201,"Jojo", "Halastra"),
(203857643,"Ran", "Avigdor"),
(209843214, "Omer", "Peled"),
(302983412, "Einat", "Naaman"),
(204321897, "Shlomit", "Reznik"),
(102935783, "Daniel", "Shalom"),
(203657432, "Yuval", "Adam"),
(203847531, "Doron", "Levi"),
(309374657, "Ori", "Tova"),
(203947921, "Libi", "Nahum"),
(203458971, "Tzur", "Cohen"),
(409385019, "Ayala", "Zilberman"),
(298567497, "Eli", "Holzmn"),
(509834123, "Rachel", "Navon"),
(409850674, "Lidor", "Yefet"),
(109234375, "Gabriel", "Yosef"),
(204853187, "Yael", "Peretz"),
(309826548, "Noi", "Katz"),
(465748391, "Bar", "Lavyan"),
(607983213, "Malka", "Edri"),
(203946123, "Tomer", "Alon");


create table vehicle 
(customer_id int not null,
plate_number varchar(45) not null,
gas_type varchar(45),
amount float,
primary key(plate_number),
foreign key (customer_id) references customer(id)
						on update cascade
                        on delete no action)
engine = innodb;


insert into vehicle
values
(908734561, "75-146-33", "Octan 95", 45),
(908734561, "12-987-44", "Octan 95", 60),
(234518475, "000-99-123", "Electricity", 75),
(234518475, "05-919-160", "Octan 95", 35),
(098765948, "34-768-22", "Octan 96", 45),
(385674906, "675-349-82", "Octan 95", 50),
(768504986, "298-34-32", "Octan 95", 55),
(230596834, "21-211-59", "Octan 95", 30),
(768592034, "098-45-395", "Electricity", 65),
(768593053, "43-594-09", "Octan 95", 35),
(209341254, "341-23-094", "Octan 96", 40),
(209341254, "31-236-09", "Octan 95", 45),
(209874201, "439-09-15", "Electricity", 70),
(203857643, "54-06-93", "Octan 95", 50),
(209843214, "63-049-94", "Octan 95", 45),
(209843214, "635-04-941", "Electricity", 65),
(302983412, "90-824-74", "Octan 95", 45),
(204321897, "64-901-72", "Octan 95", 35),
(204321897, "16-019-25", "Octan 96", 40),
(102935783, "38-999-04", "Octan 95", 45),
(203657432, "22-538-59", "Octan 95", 50), 
(203847531, "48-091-329", "Octan 95", 35),
(203946123,  "834-09-21", "Electricity", 75),
(309374657, "65-092-43", "Octan 95", 55),
(203947921, "543-87-28", "Octan 95", 45),
(203947921, "13-27-281", "Electricity", 75),
(203458971, "154-63-825", "Octan 95", 45),
(409385019, "83-239-09", "Octan 95", 55),
(298567497, "591-30-945", "Octan 95", 35),
(509834123, "483-05-265", "Octan 95", 45),
(509834123, "28-30-26", "Electricity", 65),
(409850674, "549-30-034", "Octan 95", 45),
(409850674, "94-263-03", "Octan 95", 45),
(109234375, "84-274-143", "Octan 95", 50),
(204853187, "048-39-495", "Octan 95", 35),
(309826548, "145-59-430", "Octan 96", 50),
(309826548, "158-85-409", "Electricity", 70),
(309826548, "14-539-43", "Octan 95", 45),
(465748391, "75-934-53", "Octan 95", 50),
(465748391, "701-14-593", "Octan 95", 35),
(465748391, "31-184-59", "Octan 96", 35),
(607983213, "58-345-54", "Octan 95", 40),
(607983213, "863-76-953", "Electricity", 80),
(607983213, "894-63-745", "Octan 95", 55);

create table charge 
(charging_station_id int not null,
customer_id int not null,
plate_number varchar(45) not null,
charge_date date,
charge_time time(6),
quantity float,
primary key(plate_number, charge_date),
foreign key (charging_station_id) references charging_station(id)
						on update cascade
                        on delete no action,
foreign key (customer_id) references customer(id)
						on update cascade
                        on delete no action,
foreign key (plate_number) references vehicle(plate_number)
						on update cascade
                        on delete no action)
engine = InnoDB;

insert into charge
values
(9, 234518475, "000-99-123", "2021-05-07", "07:12:31", 67),
(10, 234518475, "000-99-123", "2021-05-10", "08:30:00", 75),
(10, 234518475, "000-99-123", "2021-05-12", "16:30:00", 65),
(10, 234518475, "000-99-123", "2021-05-18", "22:30:00", 55),
(9, 234518475, "000-99-123", "2021-05-24", "14:54:00", 65),

(9, 768592034, "098-45-395","2021-05-08", "10:00:00", 45),
(9, 768592034, "098-45-395","2021-05-13", "17:37:00", 63),
(10, 768592034, "098-45-395","2021-05-17", "18:29:00", 35),
(9, 768592034, "098-45-395","2021-05-26", "12:48:00", 43),

(10, 209874201, "439-09-15", "2021-05-09", "21:41:27", 57),
(10, 209874201, "439-09-15", "2021-05-16", "08:14:12", 63),
(9, 209874201, "439-09-15", "2021-05-20", "16:32:45", 70),
(9, 209874201, "439-09-15", "2021-05-27", "07:13:05", 69),

(9, 209843214, "635-04-941", "2021-05-13", "11:43:57", 60), 
(9, 209843214, "635-04-941", "2021-05-17", "12:33:41", 57), 
(9, 209843214, "635-04-941", "2021-05-23", "21:55:00", 44), 
(10, 209843214, "635-04-941", "2021-05-25", "20:12:00", 64), 

(9, 203946123,  "834-09-21", "2021-05-11", "13:00:23", 70),
(10, 203946123,  "834-09-21", "2021-05-14", "15:24:21", 35),
(9, 203946123,  "834-09-21", "2021-05-19", "09:21:00", 67),
(10, 203946123,  "834-09-21", "2021-05-21", "17:32:43", 74),
(10, 203946123,  "834-09-21", "2021-05-26", "22:33:56", 59),

(9, 203947921, "13-27-281", "2021-05-07", "08:22:01", 70),
(9, 203947921, "13-27-281", "2021-05-10", "09:37:04", 30),
(10, 203947921, "13-27-281", "2021-05-15", "10:44:08", 50),
(10, 203947921, "13-27-281", "2021-05-20", "10:44:08", 50),
(10, 203947921, "13-27-281", "2021-05-25", "14:56:00", 29),

(9, 509834123, "28-30-26", "2021-05-08", "21:46:32", 65),
(9, 509834123, "28-30-26", "2021-05-12", "21:30:21", 40),
(10, 509834123, "28-30-26", "2021-05-18", "19:00:54", 55),
(10, 509834123, "28-30-26", "2021-05-23", "20:38:00", 45),
(9, 509834123, "28-30-26", "2021-05-27", "22:42:00", 60),

(9, 309826548, "158-85-409", "2021-05-09", "11:12:44", 65),
(9, 309826548, "158-85-409", "2021-05-15", "15:52:44", 70),
(10, 309826548, "158-85-409", "2021-05-19", "19:32:22", 55),
(10, 309826548, "158-85-409", "2021-05-22", "23:00:00", 59),

(9, 607983213, "863-76-953", "2021-05-11", "10:11:23", 80),
(9, 607983213, "863-76-953", "2021-05-16", "12:56:00", 65),
(10, 607983213, "863-76-953", "2021-05-21", "14:55:21", 55),
(10, 607983213, "863-76-953", "2021-05-27", "22:34:03", 80);


create table refuel		
(refueling_station_id int not null,
customer_id int not null,
plate_number varchar(45) not null,
charge_date date,
charge_time time(6),
quantity float,
primary key(plate_number, charge_date),
foreign key (refueling_station_id) references refueling_station(id)
						on update cascade
                        on delete no action,
foreign key (customer_id) references customer(id)
						on update cascade
                        on delete no action,
foreign key (plate_number) references vehicle(plate_number)
						on update cascade
                        on delete no action)
engine = InnoDB;

insert into refuel
values
(1, 908734561, "75-146-33", "2021-05-07", "07:12:23", 43), 
(4, 908734561, "75-146-33", "2021-05-11", "10:32:53", 39), 
(2, 908734561, "12-987-44", "2021-05-08", "17:18:29", 57),
(5, 908734561, "12-987-44", "2021-05-16", "22:34:20", 60),
(6, 908734561, "12-987-44", "2021-05-24", "22:56:49", 55),

(2, 234518475, "05-919-160", "2021-05-09", "12:32:00", 32),
(4, 234518475, "05-919-160", "2021-05-17", "16:54:00", 35),
(5, 234518475, "05-919-160", "2021-05-20", "17:23:00", 27),
(6, 234518475, "05-919-160", "2021-05-27", "18:43:00", 34),

(3, 098765948, "34-768-22", "2021-05-10", "09:09:00", 44),
(7, 098765948, "34-768-22", "2021-05-13", "14:21:03", 37),
(7, 098765948, "34-768-22", "2021-05-17", "13:12:43", 40),

(1, 385674906, "675-349-82", "2021-05-12", "08:14:20", 35),
(4, 385674906, "675-349-82", "2021-05-18", "07:16:20", 49),
(5, 385674906, "675-349-82", "2021-05-26", "21:37:21", 50),

(6, 768504986, "298-34-32", "2021-05-08", "09:03:02", 50),
(2, 768504986, "298-34-32", "2021-05-14", "10:23:52", 45),
(5, 768504986, "298-34-32", "2021-05-19", "12:43:09", 55),
(6, 768504986, "298-34-32", "2021-05-23", "22:03:59", 53),

(2, 230596834, "21-211-59", "2021-05-09", "10:00:00", 29), 
(4, 230596834, "21-211-59", "2021-05-15", "16:42:40", 25), 
(4, 230596834, "21-211-59", "2021-05-19", "18:02:40", 30),
(5, 230596834, "21-211-59", "2021-05-25", "22:02:00", 23),

(1, 768593053, "43-594-09", "2021-05-11", "23:00:00", 17),
(6, 768593053, "43-594-09", "2021-05-21", "22:04:00", 35),
(5, 768593053, "43-594-09", "2021-05-27", "10:43:12", 30),

(3, 209341254, "341-23-094", "2021-05-07", "07:12:43", 37),
(3, 209341254, "341-23-094", "2021-05-13", "10:22:08", 40),
(7, 209341254, "341-23-094", "2021-05-22", "18:43:04",34),

(2, 209341254, "31-236-09", "2021-05-10", "09:06:06", 45),
(1, 209341254, "31-236-09", "2021-05-17", "10:56:00", 34),
(4, 209341254, "31-236-09", "2021-05-20", "20:26:40", 40),
(5, 209341254, "31-236-09", "2021-05-27", "23:00:00", 40),

(1, 203857643, "54-06-93", "2021-05-11", "21:09:00", 47),
(6, 203857643, "54-06-93", "2021-05-14", "22:49:00", 30),
(6, 203857643, "54-06-93", "2021-05-21", "16:43:12", 50),
(5, 203857643, "54-06-93", "2021-05-25", "15:33:02", 35),

(1, 209843214, "63-049-94", "2021-05-12", "12:32:00", 32),
(2, 209843214, "63-049-94", "2021-05-18", "22:32:00", 43),
(4, 209843214, "63-049-94", "2021-05-21", "07:00:00", 29),
(5, 209843214, "63-049-94", "2021-05-24", "09:00:00", 30),

(2, 302983412, "90-824-74", "2021-05-11", "10:00:00", 45),
(5, 302983412, "90-824-74", "2021-05-16", "11:00:00", 40),
(5, 302983412, "90-824-74", "2021-05-19", "12:00:00", 30),
(5, 302983412, "90-824-74", "2021-05-27", "13:00:00", 30),

(1, 204321897, "64-901-72", "2021-05-09", "14:00:00", 33),
(6, 204321897, "64-901-72", "2021-05-14", "15:00:00", 35),
(6, 204321897, "64-901-72", "2021-05-17", "15:00:00", 15),
(3, 204321897, "16-019-25", "2021-05-10", "08:00:09", 34),
(7, 204321897, "16-019-25", "2021-05-15", "09:23:09", 27),
(3, 204321897, "16-019-25", "2021-05-22", "10:43:00", 40),

(1, 102935783, "38-999-04", "2021-05-07", "12:43:00",43),
(5, 102935783, "38-999-04", "2021-05-12", "17:43:32",45),
(6, 102935783, "38-999-04", "2021-05-18", "19:53:08",30),
(6, 102935783, "38-999-04", "2021-05-23", "19:56:38",32),

(2, 203657432, "22-538-59", "2021-05-16", "20:34:01", 47),
(4, 203657432, "22-538-59", "2021-05-20", "10:04:51", 50),
(6, 203847531, "48-091-329", "2021-05-12", "12:32:21", 34),
(6, 203847531, "48-091-329", "2021-05-17", "16:22:11", 25),
(2, 203847531, "48-091-329", "2021-05-23", "20:22:41", 35),

(1, 309374657, "65-092-43", "2021-05-07", "08:10:11", 54),
(2, 203947921, "543-87-28", "2021-05-08", "09:23:43", 45),
(4, 203458971, "154-63-825", "2021-05-09","10:34:23", 40),
(5, 409385019, "83-239-09", "2021-05-10", "11:12:43", 53),
(6, 298567497, "591-30-945", "2021-05-11", "12:52:03", 33),
(2, 509834123, "483-05-265", "2021-05-12", "13:12:33", 43),
(4, 409850674, "549-30-034", "2021-05-13", "14:14:42", 30),
(5, 409850674, "94-263-03", "2021-05-14", "15:24:00", 37),
(1, 109234375, "84-274-143", "2021-05-15", "16:04:00", 45),
(6, 204853187, "048-39-495",  "2021-05-16", "17:23:45", 32),
(8, 309826548, "145-59-430", "2021-05-17", "19:00:05", 49),
(8, 309826548, "145-59-430", "2021-05-25", "22:00:05", 40),
(2, 309826548, "14-539-43", "2021-05-18", "15:46:00", 43),
(4, 465748391, "75-934-53", "2021-05-19", "18:06:30", 49),
(4, 465748391, "701-14-593","2021-05-20", "20:06:54", 30),
(8, 465748391, "701-14-593", "2021-05-24", "21:26:04", 33),
(4, 607983213, "58-345-54", "2021-05-21", "13:16:04", 37),
(5, 607983213, "894-63-745",  "2021-05-25", "15:34:04", 53);

create table supplier_log
(id int,
old_first_name varchar(45),
new_first_name varchar(45),
old_last_name varchar(45),
new_last_name varchar(45),
old_phone_number int,
new_phone_number int,
command_ts timestamp,
command varchar(10));

delimiter $
create trigger supplier_ins_trg after insert on supplier
for each row
begin
insert into supplier_log values(new.id, null, new.first_name, null, new.last_name, null, new.phone_number, now(), 'insert');
end $
delimiter ;

delimiter $
create trigger supplier_update_trg after update on supplier
for each row
begin
insert into supplier_log values(new.id, old.first_name, new.first_name, old.last_name, new.last_name, old.phone_number, new.phone_number, now(), 'update');
end $
delimiter ;

delimiter $
create trigger supplier_delete_trg after delete on supplier
for each row
begin
insert into supplier_log values(old.id, old.first_name, null, old.last_name, null, old.phone_number, null, now(), 'delete');
end $
delimiter ;

create table customer_log
(id int,
old_first_name varchar(45),
new_first_name varchar(45),
old_last_name varchar(45),
new_last_name varchar(45),
command_ts timestamp,
command varchar(10));


delimiter $
create trigger customer_ins_trg after insert on customer
for each row
begin
insert into customer_log values(new.id, null, new.first_name, null, new.last_name, null, now(), 'insert');
end $
delimiter ;

delimiter $
create trigger customer_update_trg after update on customer
for each row
begin
insert into customer_log values(new.id, old.first_name, new.first_name, old.last_name, new.last_name, now(), 'update');
end $
delimiter ;

delimiter $
create trigger customer_delete_trg after delete on customer
for each row
begin
insert into customer_log values(old.id, old.first_name, null, old.last_name, null, now(), 'delete');
end $
delimiter ;
